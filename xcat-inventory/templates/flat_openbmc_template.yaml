site:
  cluster:
    SNsyncfiledir: /var/xcat/syncfiles
    auditnosyslog: '0'
    auditskipcmds: ALL
    blademaxp: '64'
    cleanupxcatpost: 'no'
    consoleondemand: 'no'
    databaseloc: /var/lib
    db2installloc: /mntdb2
    dhcplease: '43200'
    dnshandler: ddns
    domain: pok.stglabs.ibm.com
    enableASMI: 'no'
    forwarders: 10.6.29.1
    fsptimeout: '0'
    installdir: /install
    ipmimaxp: '64'
    ipmiretries: '3'
    ipmitimeout: '2'
    master: 172.12.253.27
    maxssh: '8'
    nameservers: 172.12.253.27
    nodesyncfiledir: /var/xcat/node/syncfiles
    powerinterval: '0'
    ppcmaxp: '64'
    ppcretry: '3'
    ppctimeout: '0'
    sharedtftp: '1'
    sshbetweennodes: ALLGROUPS
    syspowerinterval: '0'
    tftpdir: /tftpboot
    timezone: America/New_York
    useNmapfromMN: 'no'
    vsftp: n
    xcatconfdir: /etc/xcat
    xcatdport: '3001'
    xcatiport: '3002'
    xcatsslversion: TLSv1

network:
  172_11_0_0-255_255_0_0:
    basic_attr:
      gateway: <xcatmaster>
      mask: 255.255.0.0
      mgtifname: enP34p1s0f1
      net: 172.11.0.0
    pool:
      dynamicrange: 172.11.253.100-172.11.253.200
  172_12_0_0-255_255_0_0:
    basic_attr:
      gateway: <xcatmaster>
      mask: 255.255.0.0
      mgtifname: enP5p1s0f0
      net: 172.12.0.0
    service:
      tftpserver: <xcatmaster>

node:
  cn_regex:
    engines:
      hardware_mgt_engine:
        engine_info:
          openbmc_info:
            bmc: '|\D+(\d+)\D+(\d+)\D+(\d+)|172.12.(($1-1)*32+$2-1).($3%100+100)|'
        engine_type: openbmc
      netboot_engine:
        engine_info:
          chain: runcmd=bmcsetup,standby
        engine_type: petitboot
    network_info:
      primarynic:
        ip: '|\D+(\d+)\D+(\d+)\D+(\d+)|172.12.(($1-1)*32+$2-1).($3%100)|'
        switch: '|\D+(\d+)\D+(\d+)\D+(\d+)|mid($1)tor($2)|'
        switchport: '|\D+(\d+)\D+(\d+)\D+(\d+)|($3%100)|'
    obj_info:
      grouptype: static
    obj_type: group
    role: compute
  mid05tor12cn16:
    device_info:
      arch: ppc64le
    device_type: server
    engines:
      console_engine:
        engine_type: openbmc
      hardware_mgt_engine:
        engine_info:
          openbmc_info:
            bmc: 172.11.139.16
        engine_type: openbmc
      netboot_engine:
        engine_info:
          osimage: rhels7.5-alternate-ppc64le-install-compute
        engine_type: petitboot
    network_info:
      primarynic:
        ip: 172.12.139.16
        mac:
        - 70:e2:84:14:30:c0
    obj_info:
      groups: all,compute,cn_regex
    obj_type: node
    role: compute

passwd:
  openbmc:
    key: openbmc
    password: 0penBmc
    username: root
  system:
    key: system
    password: cluster
    username: root

policy:
  '1':
    name: root
    rule: allow
  '1.2':
    name: briggs01.pok.stglabs.ibm.com
    rule: trusted
  '2':
    commands: getbmcconfig
    rule: allow
  '2.1':
    commands: remoteimmsetup
    rule: allow
  '2.3':
    commands: lsxcatd
    rule: allow
  '3':
    commands: nextdestiny
    rule: allow
  '4':
    commands: getdestiny
    rule: allow
  '4.4':
    commands: getpostscript
    rule: allow
  '4.5':
    commands: getcredentials
    rule: allow
  '4.6':
    commands: syncfiles
    rule: allow
  '4.7':
    commands: litefile
    rule: allow
  '4.8':
    commands: litetree
    rule: allow
  '4.9':
    commands: getadapter
    rule: allow

